<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Kalkulator HPP Cerdas - Hitung Harga Pokok Produksi dengan mudah dan akurat"
    />
    <meta name="theme-color" content="#1e3a5f" />
    <title>Kalkulator HPP Cerdas</title>
    <link rel="manifest" href="manifest.json" />
    <link
      rel="icon"
      type="image/png"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'><rect fill='%231e3a5f' width='192' height='192'/><text x='50%' y='50%' font-size='100' font-weight='bold' fill='%23fff' text-anchor='middle' dominant-baseline='middle'>‚Çπ</text></svg>"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header class="header">
        <div class="header-content">
          <div class="logo">
            <svg
              class="logo-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M12 2v20M2 12h20M7 7h10v10H7z"></path>
            </svg>
            <h1>KALKULATOR HPP CERDAS</h1>
          </div>
          <nav class="nav">
            <button class="nav-btn active" data-tab="calculator">
              Kalkulator
            </button>
            <button class="nav-btn" data-tab="info">Informasi</button>
          </nav>
        </div>
      </header>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Tab Kalkulator -->
        <section id="calculator-tab" class="tab-content active">
          <div class="calculator-wrapper">
            <!-- Sidebar Input -->
            <aside class="sidebar">
              <div class="sidebar-section">
                <h2>Tambah Produk Baru</h2>
                <form id="product-form" class="form">
                  <div class="form-group">
                    <label for="product-name">Nama Produk</label>
                    <input
                      type="text"
                      id="product-name"
                      placeholder="Contoh: Kue Brownies"
                      required
                    />
                  </div>
                  <div class="form-row">
                    <div class="form-group">
                      <label for="product-weight">Berat/Jumlah Produk</label>
                      <input
                        type="number"
                        id="product-weight"
                        placeholder="100"
                        min="0.01"
                        step="0.01"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label for="product-unit">Satuan</label>
                      <select id="product-unit" required>
                        <option value="">-- Pilih Satuan --</option>
                        <option value="g">Gram (g)</option>
                        <option value="kg">Kilogram (kg)</option>
                        <option value="ml">Mililiter (ml)</option>
                        <option value="l">Liter (l)</option>
                        <option value="unit">Unit</option>
                        <option value="pcs">Pieces (pcs)</option>
                        <option value="box">Box</option>
                        <option value="custom">Custom</option>
                      </select>
                    </div>
                  </div>
                  <div
                    class="form-group"
                    id="custom-unit-group"
                    style="display: none"
                  >
                    <label for="custom-unit">Nama Satuan Custom</label>
                    <input
                      type="text"
                      id="custom-unit"
                      placeholder="Contoh: Loyang"
                    />
                  </div>
                  <button type="submit" class="btn btn-primary">
                    Tambah Produk
                  </button>
                </form>
              </div>

              <!-- Daftar Produk -->
              <div class="sidebar-section">
                <h2>Daftar Produk</h2>
                <div id="products-list" class="products-list">
                  <p class="empty-state">
                    Belum ada produk. Tambahkan produk baru untuk memulai.
                  </p>
                </div>
              </div>
            </aside>

            <!-- Main Content Area -->
            <section class="main-area">
              <div id="no-product-state" class="no-product-state">
                <svg
                  class="empty-icon"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <circle cx="12" cy="12" r="10"></circle>
                  <path d="M12 6v6M12 16h.01"></path>
                </svg>
                <h3>Pilih atau Buat Produk</h3>
                <p>
                  Mulai dengan menambahkan produk baru di sebelah kiri untuk
                  menghitung HPP.
                </p>
              </div>

              <div
                id="product-detail"
                class="product-detail"
                style="display: none"
              >
                <!-- Header Produk -->
                <div class="product-header">
                  <div>
                    <h2 id="detail-product-name"></h2>
                    <p id="detail-product-info" class="product-info"></p>
                  </div>
                  <button id="delete-product-btn" class="btn btn-danger">
                    Hapus Produk
                  </button>
                </div>

                <!-- Input Bahan Baku -->
                <div class="ingredients-section">
                  <h3>Tambah Bahan Baku</h3>
                  <form id="ingredient-form" class="form">
                    <div class="form-group">
                      <label for="ingredient-name">Nama Bahan Baku</label>
                      <input
                        type="text"
                        id="ingredient-name"
                        placeholder="Contoh: Tepung Terigu"
                        required
                      />
                    </div>
                    <div class="form-row">
                      <div class="form-group">
                        <label for="ingredient-price">Harga per Satuan</label>
                        <div class="input-group">
                          <span class="currency">Rp</span>
                          <input
                            type="number"
                            id="ingredient-price"
                            placeholder="0"
                            min="0"
                            step="0.01"
                            required
                          />
                        </div>
                      </div>
                      <div class="form-group">
                        <label for="ingredient-quantity"
                          >Jumlah Digunakan</label
                        >
                        <input
                          type="number"
                          id="ingredient-quantity"
                          placeholder="0"
                          min="0"
                          step="0.01"
                          required
                        />
                      </div>
                      <div class="form-group">
                        <label for="ingredient-unit">Satuan</label>
                        <select id="ingredient-unit" required>
                          <option value="">-- Pilih Satuan --</option>
                          <option value="g">Gram (g)</option>
                          <option value="kg">Kilogram (kg)</option>
                          <option value="ml">Mililiter (ml)</option>
                          <option value="l">Liter (l)</option>
                          <option value="unit">Unit</option>
                          <option value="pcs">Pieces (pcs)</option>
                          <option value="box">Box</option>
                        </select>
                      </div>
                    </div>
                    <button type="submit" class="btn btn-primary">
                      Tambah Bahan
                    </button>
                  </form>
                </div>

                <!-- Tabel Bahan Baku -->
                <div class="ingredients-table-section">
                  <h3>Daftar Bahan Baku</h3>
                  <div id="ingredients-table-container" class="table-container">
                    <table id="ingredients-table" class="table">
                      <thead>
                        <tr>
                          <th>Nama Bahan</th>
                          <th>Harga/Satuan</th>
                          <th>Jumlah</th>
                          <th>Satuan</th>
                          <th>Subtotal</th>
                          <th>Aksi</th>
                        </tr>
                      </thead>
                      <tbody id="ingredients-tbody"></tbody>
                    </table>
                  </div>
                  <div id="no-ingredients" class="empty-state">
                    Belum ada bahan baku. Tambahkan bahan untuk mulai menghitung
                    HPP.
                  </div>
                </div>

                <!-- Hasil Perhitungan -->
                <div class="calculation-result">
                  <div class="result-card">
                    <div class="result-item">
                      <label>Total HPP Produk</label>
                      <div class="result-value" id="total-hpp">Rp 0</div>
                    </div>
                    <div class="result-item">
                      <label>HPP per Satuan</label>
                      <div class="result-input">
                        <input
                          type="number"
                          id="hpp-per-unit-input"
                          placeholder="Masukkan jumlah satuan"
                          min="0.01"
                          step="0.01"
                        />
                        <span id="hpp-per-unit-result">Rp 0</span>
                      </div>
                    </div>
                  </div>

                  <!-- Export Buttons -->
                  <div class="export-section">
                    <button id="export-pdf-btn" class="btn btn-secondary">
                      <svg
                        class="btn-icon"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                        ></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                      </svg>
                      Unduh PDF
                    </button>
                    <button id="export-excel-btn" class="btn btn-secondary">
                      <svg
                        class="btn-icon"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                        <path d="M3 9h18M9 3v18"></path>
                      </svg>
                      Unduh Excel
                    </button>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </section>

        <!-- Tab Informasi -->
        <section id="info-tab" class="tab-content">
          <div class="info-container">
            <article class="info-article">
              <h2>Apa itu HPP (Harga Pokok Produksi)?</h2>
              <p>
                Harga Pokok Produksi (HPP) adalah total biaya yang dikeluarkan
                untuk memproduksi suatu barang atau jasa. HPP mencakup semua
                biaya langsung yang terlibat dalam proses produksi, seperti
                bahan baku, tenaga kerja langsung, dan biaya overhead produksi.
              </p>

              <h3>Mengapa Menghitung HPP Itu Penting?</h3>
              <div class="benefits-grid">
                <div class="benefit-card">
                  <h4>üí∞ Penetapan Harga Jual</h4>
                  <p>
                    Dengan mengetahui HPP, Anda dapat menetapkan harga jual yang
                    kompetitif namun tetap menguntungkan.
                  </p>
                </div>
                <div class="benefit-card">
                  <h4>üìä Analisis Profitabilitas</h4>
                  <p>
                    Pahami margin keuntungan produk Anda dan identifikasi produk
                    mana yang paling menguntungkan.
                  </p>
                </div>
                <div class="benefit-card">
                  <h4>üéØ Efisiensi Biaya</h4>
                  <p>
                    Temukan peluang untuk mengoptimalkan biaya produksi dan
                    meningkatkan efisiensi operasional.
                  </p>
                </div>
                <div class="benefit-card">
                  <h4>üìà Perencanaan Bisnis</h4>
                  <p>
                    Buat keputusan bisnis yang lebih baik berdasarkan data biaya
                    produksi yang akurat.
                  </p>
                </div>
                <div class="benefit-card">
                  <h4>üè¶ Laporan Keuangan</h4>
                  <p>
                    Siapkan laporan keuangan yang akurat untuk keperluan
                    perpajakan dan audit.
                  </p>
                </div>
                <div class="benefit-card">
                  <h4>üöÄ Skalabilitas</h4>
                  <p>
                    Pahami bagaimana biaya produksi berubah seiring dengan
                    peningkatan volume produksi.
                  </p>
                </div>
              </div>

              <h3>Rumus HPP Dasar</h3>
              <div class="formula-box">
                <p>
                  <strong
                    >HPP = Jumlah Bahan Baku + Biaya Tenaga Kerja Langsung +
                    Biaya Overhead Produksi</strong
                  >
                </p>
                <p style="margin-top: 1rem; font-size: 0.9rem; color: #666">
                  Catatan: Kalkulator HPP Cerdas fokus pada perhitungan bahan
                  baku. Untuk analisis lengkap, tambahkan biaya tenaga kerja dan
                  overhead secara manual.
                </p>
              </div>

              <h3>Contoh Perhitungan</h3>
              <div class="example-box">
                <p><strong>Produk: Kue Brownies (500g)</strong></p>
                <ul>
                  <li>Tepung Terigu 200g @ Rp 5.000/kg = Rp 1.000</li>
                  <li>Coklat Bubuk 50g @ Rp 80.000/kg = Rp 4.000</li>
                  <li>Telur 3 butir @ Rp 1.500/butir = Rp 4.500</li>
                  <li>Mentega 100g @ Rp 60.000/kg = Rp 6.000</li>
                  <li><strong>Total HPP = Rp 15.500</strong></li>
                  <li><strong>HPP per 100g = Rp 3.100</strong></li>
                </ul>
              </div>

              <h3>Tips Menggunakan Kalkulator HPP Cerdas</h3>
              <ol>
                <li>
                  <strong>Catat Semua Bahan:</strong> Jangan lupa mencatat semua
                  bahan baku yang digunakan, termasuk yang kecil sekalipun.
                </li>
                <li>
                  <strong>Gunakan Harga Akurat:</strong> Gunakan harga beli
                  terakhir atau rata-rata harga untuk akurasi maksimal.
                </li>
                <li>
                  <strong>Perbarui Secara Berkala:</strong> Update harga bahan
                  secara berkala untuk mencerminkan kondisi pasar terkini.
                </li>
                <li>
                  <strong>Ekspor Hasil:</strong> Simpan hasil perhitungan dalam
                  format PDF atau Excel untuk referensi dan analisis lebih
                  lanjut.
                </li>
                <li>
                  <strong>Bandingkan Produk:</strong> Gunakan kalkulator untuk
                  membandingkan HPP berbagai produk dan strategi penetapan
                  harga.
                </li>
              </ol>
            </article>
          </div>
        </section>
      </main>

      <!-- Footer -->
      <footer class="footer">
        <p>
          &copy; 2025 Kalkulator HPP Cerdas. Dibuat untuk membantu UKM dan
          produsen rumahan.
        </p>
      </footer>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.min.js"></script>
    <script src="app.js"></script>
  </body>
</html>
